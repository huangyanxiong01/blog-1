pid --> gdb/file --> code

### 概述

对于一般的高 iowait 占用问题的解决思路如下：`iostat` 了解 I/O 环境 --> `iotop` 定位问题进程 --> `lsof` 定位问题文件 --> 由文件定位源码位置。

#### 1. iostat

通过 `iostat` 命令查看 I/O 的合并情况、读频繁还是写频繁、读写的数据量、I/O 队列长度、iowait 等信息，对 I/O 有个总体的把握，关于 `iostat` 可以参考 [这里](https://github.com/hsxhr-10/blog/blob/master/Linux/【内置工具】--%20iostat.md)。演示如下：

```
shell> iostat -xmtp

06/19/2018 07:24:42 AM
avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          43.15    0.00   10.66    0.00    0.00   46.19

Device:         rrqm/s   wrqm/s     r/s     w/s    rMB/s    wMB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
sda               0.00    13.00    0.00  298.00     0.00   144.06   990.07     9.52   31.97    0.00   31.97   1.14  34.00
sda1              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00    0.00    0.00   0.00   0.00
sda2              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00    0.00    0.00   0.00   0.00
sda5              0.00    13.00    0.00  297.00     0.00   144.06   993.40     9.52   32.08    0.00   32.08   1.14  34.00
dm-0              0.00     0.00    0.00  310.00     0.00   144.06   951.74     9.70   31.29    0.00   31.29   1.10  34.00
dm-1              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00    0.00    0.00   0.00   0.00
...
```


